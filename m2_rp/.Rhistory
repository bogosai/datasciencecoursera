}
pollutantmean("specdata","sulfate",1:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
# q<-data[!is.na(data[pollutant]) & data["ids"] %in% z]
data[data$id>1,]
}
pollutantmean("specdata","sulfate",1:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
# q<-data[!is.na(data[pollutant]) & data["ids"] %in% z]
data[,data$id>1]
}
pollutantmean("specdata","sulfate",1:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
# q<-data[!is.na(data[pollutant]) & data["ids"] %in% z]
data[,data[4]>1]
}
pollutantmean("specdata","sulfate",1:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
# q<-data[!is.na(data[pollutant]) & data["ids"] %in% z]
data[data[,"id"]>1]
}
pollutantmean("specdata","sulfate",1:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
# q<-data[!is.na(data[pollutant]) & data["ids"] %in% z]
data[data[,"id"]>1,]
}
pollutantmean("specdata","sulfate",1:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
# q<-data[!is.na(data[pollutant]) & data["ids"] %in% z]
data[data[,"id"]>2,]
}
pollutantmean("specdata","sulfate",1:3)
x<-matrix(1:6,2,3)
x
x[,3]
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
# q<-data[!is.na(data[pollutant]) & data["ids"] %in% z]
data[data[,"id"] %in% z,]
}
pollutantmean("specdata","sulfate",1:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
# q<-data[!is.na(data[pollutant]) & data["ids"] %in% z]
data[data[,"id"] %in% z,]
}
pollutantmean("specdata","sulfate",2:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
data[data[,"id"] %in% z,]
}
pollutantmean("specdata","sulfate",2:3)
pollutantmean <- function(directory,pollutant,id = 1:332) {
flist <-list.files(directory)
data <-data.frame()
# for (i in 1:length(flist)) {
for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
z<-id
data[data[,"id"] %in% z,]
}
pollutantmean("specdata","sulfate",1:10)
pollutantmean("specdata","nitrate",70:72)
pollutantmean("specdata","nitrate",23)
pollutantmean <- function(directory,pollutant,id = 1:332) {
z<-id
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
data[data[,"id"] %in% z,]
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","sulfate",1:10)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
subst <- data[data[,"id"] %in% rng,]
mean(subst)
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","sulfate",1:10)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
subst <- data[data[,"id"] %in% rng,]
mean(subst$pollutant)
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
subst <- data[data[,"id"] %in% rng,]
mean(subst$pollutant)
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","sulfate",1:10)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
subst <- data[data[,"id"] %in% rng & !is.na(data[,pollutant]),]
mean(subst$pollutant)
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","sulfate",1:10)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
subst <- data[data[,"id"] %in% rng & !is.na(data[,pollutant]),]
mean(subst[pollutant])
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","sulfate",1:10)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
subst <- data[data[,"id"] %in% rng & !is.na(data[,pollutant]),]
subst[pollutant]
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","sulfate",1:1)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
subst <- data[data[,"id"] %in% rng & !is.na(data[,pollutant]),]
subst[,pollutant]
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","sulfate",1:1)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
subst <- data[data[,"id"] %in% rng & !is.na(data[,pollutant]),]
mean(subst[,pollutant])
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","sulfate",1:1)
pollutantmean("specdata","sulfate",1:10)
pollutantmean("specdata","nitrate",70:72)
pollutantmean("specdata","nitrate",23)
pollutantmean <- function(directory,pollutant,ids = 1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
# for (i in 1:3) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,pollutant]),]
mean(sbset[,pollutant])
}
# pollutantmean("specdata","sulfate",1:10)
# pollutantmean("specdata","nitrate",70:72)
# pollutantmean("specdata","nitrate",23)
pollutantmean("specdata","nitrate",23)
?factor
complete <- function(directory,id=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"])
fctr
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"])
fctr
}
complete("specdata",1:2)
?levels
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"])
levels(fctr)
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"])
table(fctr)
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"])
class(table(fctr))
}
complete("specdata",1:2)
fctr <- factor(rep("q",3),rep("w",7),rep("e",5))
?rep
fctr <- factor(rep("q",times=3),rep("w",times=7),rep("e",times=5))
rep("w",times=6)
fctr <- factor(c(rep("q",times=3)),c(rep("w",times=7)),c(rep("e",times=5))
paste(rep("q",times=3),rep("w",times=7),rep("e",times=5),sep=",")
?paste
paste(rep("q",times=3),rep("w",times=7),rep("e",times=5),sep=",",collapse="")
paste(rep("q",times=3),rep("w",times=7),rep("e",times=5),sep=",",collapse=",")
paste(rep("q",times=3),rep("w",times=7),rep(e,times=5),sep=",",collapse=",")
fctr <- factor("w","w","w","w","w","w","w","w","t","t","t","t","t","t","t","t","t","r","r","r","r","r","r","r","r","r")
fctr <- factor("w","w","w","w","w","w","w","w","t","t","t","t","t","t","t","t","t","r","r","r","r","r","r","r","r","r",levels=c("w","t","r"))
fctr <- factor(c("w","w","w","w","w","w","w","w","t","t","t","t","t","t","t","t","t","r","r","r","r","r","r","r","r","r"),levels=c("w","t","r"))
table(fctr)
unclass(fctr)
table(fctr)
matrix(fctr)
matrix(table(fctr)
matrix(table(fctr))
levels(fctr)
?matrix
levels(fctr)
matrix(fctr)
matrix(table(fctr))
mtr <-matrix(table(fctr))
mtr
cbind(levels(fctr),mtr)
matrix(table(fctr))
data.frame(table(fctr))
colnames(data.frame(table(fctr)))<-c("id","nobs")
data.frame(table(fctr))
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"])
fctr
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"],levels=c("id","nobs"))
fctr
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"],levels=rng)
fctr
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"],levels=rng)
data.frame(table(fctr))
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1:2)
complete("specdata",1)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,"id"]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1)
complete("specdata",c(2,4,8,10,12))
complete("specdata",30:25)
complete("specdata",3)
?cor
quit()
