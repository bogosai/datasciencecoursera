}
complete("specdata",1:2)
fctr <- factor(rep("q",3),rep("w",7),rep("e",5))
?rep
fctr <- factor(rep("q",times=3),rep("w",times=7),rep("e",times=5))
rep("w",times=6)
fctr <- factor(c(rep("q",times=3)),c(rep("w",times=7)),c(rep("e",times=5))
paste(rep("q",times=3),rep("w",times=7),rep("e",times=5),sep=",")
?paste
paste(rep("q",times=3),rep("w",times=7),rep("e",times=5),sep=",",collapse="")
paste(rep("q",times=3),rep("w",times=7),rep("e",times=5),sep=",",collapse=",")
paste(rep("q",times=3),rep("w",times=7),rep(e,times=5),sep=",",collapse=",")
fctr <- factor("w","w","w","w","w","w","w","w","t","t","t","t","t","t","t","t","t","r","r","r","r","r","r","r","r","r")
fctr <- factor("w","w","w","w","w","w","w","w","t","t","t","t","t","t","t","t","t","r","r","r","r","r","r","r","r","r",levels=c("w","t","r"))
fctr <- factor(c("w","w","w","w","w","w","w","w","t","t","t","t","t","t","t","t","t","r","r","r","r","r","r","r","r","r"),levels=c("w","t","r"))
table(fctr)
unclass(fctr)
table(fctr)
matrix(fctr)
matrix(table(fctr)
matrix(table(fctr))
levels(fctr)
?matrix
levels(fctr)
matrix(fctr)
matrix(table(fctr))
mtr <-matrix(table(fctr))
mtr
cbind(levels(fctr),mtr)
matrix(table(fctr))
data.frame(table(fctr))
colnames(data.frame(table(fctr)))<-c("id","nobs")
data.frame(table(fctr))
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"])
fctr
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"],levels=c("id","nobs"))
fctr
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"],levels=rng)
fctr
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <-factor(sbset[,"id"],levels=rng)
data.frame(table(fctr))
}
complete("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1:2)
complete("specdata",1)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng,]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,"id"]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1)
complete("specdata",c(2,4,8,10,12))
complete("specdata",30:25)
complete("specdata",3)
?cor
quit()
complete("specdata",1:332)
complete <- function(directory,threshold=0) {
tld <= threschold
flist <-list.files(directory)
data <- function(flist,ids=tld) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
}
complete("specdata",1)
complete <- function(directory,threshold=0) {
tld <= threschold
flist <-list.files(directory)
data <- function(flist,tld) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
}
complete("specdata",1)
complete <- function(directory,threshold=0) {
tld < threschold
flist <-list.files(directory)
data <- function(flist,tld) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
}
complete("specdata",1)
complete <- function(directory,threshold=0) {
tld < threshold
flist <-list.files(directory)
data <- function(flist,tld) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
}
complete("specdata",1)
complete <- function(directory,threshold=0) {
tld < threshold
flist <-list.files(directory)
data <- function(flist,tld) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
data
}
complete("specdata",1)
corr <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
corr("specdata",1:2)
corr <- function(directory,threshold =0) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe[dframe[,"nobs"]>threshold]>117,]
}
corr <- function(directory,threshold =0) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe[dframe[,"nobs"]>117,]
}
corr("specdata",1:2)
corr <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe[dframe[,"nobs"]>117,]
}
corr <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe[dframe[,"nobs"]>117,]
}
corr("specdata",1:2)
corr("specdata",1000)
corr("specdata",1000)
corr("specdata",1000)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1:2)
corr <- function(directory,threshold=0) {
#rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
corr("specdata",1:2)
corr("specdata",1:2)
tst <- corr("specdata",1:2)
corr <- function(directory,threshold=0) {
#rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[!is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
tst <- corr("specdata",1:2)
corr <- function(directory,threshold=0) {
#rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[!is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=1:length(flist))
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
tst <- corr("specdata",1:2)
corr <- function(directory,threshold=0) {
#rng <-ids
flist <-list.files(directory)
data <-data.frame()
#for (i in 1:length(flist)) {
for (i in 1:4) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[!is.na(data[,2]) & !is.na(data[,2]),]
fctr <- factor(sbset[,"id"],levels=1:length(flist))
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
tst <- corr("specdata",1:2)
corr <- function(directory,threshold=0) {
#rng <-ids
flist <-list.files(directory)
data <-data.frame()
#for (i in 1:length(flist)) {
for (i in 1:4) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[!is.na(data[,2]) & !is.na(data[,2]),]
#fctr <- factor(sbset[,"id"],levels=1:length(flist))
fctr <- factor(sbset[,"id"],levels=1:4)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
tst <- corr("specdata",1:2)
complete <- function(directory,ids=1:332) {
rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in ids) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[data[,"id"] %in% rng & !is.na(data[,2]) & !is.na(data[,3]),]
fctr <- factor(sbset[,"id"],levels=rng)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
complete("specdata",1:2)
corr <- function(directory,threshold=0) {
#rng <-ids
flist <-list.files(directory)
data <-data.frame()
#for (i in 1:length(flist)) {
for (i in 1:4) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[!is.na(data[,2]) & !is.na(data[,3]),]
#fctr <- factor(sbset[,"id"],levels=1:length(flist))
fctr <- factor(sbset[,"id"],levels=1:4)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
tst <- corr("specdata",1:2)
tst
corr <- function(directory,threshold=0) {
#rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
#for (i in 1:4) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[!is.na(data[,2]) & !is.na(data[,3]),]
fctr <- factor(sbset[,"id"],levels=1:length(flist))
#fctr <- factor(sbset[,"id"],levels=1:4)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe
}
tst <- corr("specdata",1:2)
tst
corr <- function(directory,threshold=0) {
#rng <-ids
flist <-list.files(directory)
data <-data.frame()
for (i in 1:length(flist)) {
#for (i in 1:4) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[!is.na(data[,2]) & !is.na(data[,3]),]
fctr <- factor(sbset[,"id"],levels=1:length(flist))
#fctr <- factor(sbset[,"id"],levels=1:4)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe[dframe[,"nobs"]>threshold,]
}
tst <- corr("specdata",1:1000)
tst <- corr("specdata",1000)
tst
corr <- function(directory,threshold=0) {
if (threshold>0) {
#rng <-ids
flist <-list.files(directory)
if (length(flist>0)) {
data <-data.frame()
for (i in 1:length(flist)) {
#for (i in 1:4) {
data <- rbind(data,read.csv(file.path(directory,flist[i]),skip=1,header=FALSE))
}
colnames(data) <- c("Date","sulfate","nitrate","id")
sbset <- data[!is.na(data[,2]) & !is.na(data[,3]),]
fctr <- factor(sbset[,"id"],levels=1:length(flist))
#fctr <- factor(sbset[,"id"],levels=1:4)
dframe <- data.frame(table(fctr))
colnames(dframe) <- c("id","nobs")
dframe[dframe[,"nobs"]>threshold,]
} #if (length(flist>0))
} #if (threshold>0)
}
tst <- corr("specdata",1000)
tst
quit()
